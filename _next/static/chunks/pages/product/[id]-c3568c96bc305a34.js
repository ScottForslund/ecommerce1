(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{1548:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/[id]",function(){return a(9300)}])},9300:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var l=a(5893),t=a(7294),c=a(1163),n=a(9008),r=a.n(n),i=a(1664),d=a.n(i),o=a(6672);function x(){var e;let{id:s}=(0,c.useRouter)().query,[a,n]=(0,t.useState)(null),[i,x]=(0,t.useState)(!0),[m,h]=(0,t.useState)(1),[u,b]=(0,t.useState)(0),{addToCart:g}=(0,o.j)();(0,t.useEffect)(()=>{s&&j()},[s]);let j=async()=>{try{let e=await fetch("http://localhost:5000/api/products/".concat(s)),a=await e.json();n(a),x(!1)}catch(e){console.error("Error fetching product:",e),x(!1)}};return i?(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-2xl",children:"Loading..."})}):a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r(),{children:[(0,l.jsxs)("title",{children:[a.name," - Montana Store"]}),(0,l.jsx)("meta",{name:"description",content:a.description})]}),(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 py-12",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4",children:[(0,l.jsxs)("div",{className:"mb-8 text-sm",children:[(0,l.jsx)(d(),{href:"/",className:"text-gray-600 hover:text-blue-900",children:"Home"}),(0,l.jsx)("span",{className:"mx-2",children:"/"}),(0,l.jsx)(d(),{href:"/shop",className:"text-gray-600 hover:text-blue-900",children:"Shop"}),(0,l.jsx)("span",{className:"mx-2",children:"/"}),(0,l.jsx)("span",{className:"text-gray-900",children:a.name})]}),(0,l.jsx)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:(0,l.jsxs)("div",{className:"grid md:grid-cols-2 gap-8 p-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"mb-4 bg-gray-100 rounded-lg overflow-hidden aspect-square",children:(0,l.jsx)("img",{src:a.images[u]||"https://via.placeholder.com/600",alt:a.name,className:"w-full h-full object-cover"})}),a.images.length>1&&(0,l.jsx)("div",{className:"grid grid-cols-4 gap-2",children:a.images.map((e,s)=>(0,l.jsx)("button",{onClick:()=>b(s),className:"border-2 rounded-lg overflow-hidden ".concat(u===s?"border-blue-900":"border-gray-200"),children:(0,l.jsx)("img",{src:e,alt:"".concat(a.name," ").concat(s+1),className:"w-full h-20 object-cover"})},s))})]}),(0,l.jsxs)("div",{children:[a.badge&&(0,l.jsx)("span",{className:"inline-block bg-red-500 text-white px-3 py-1 rounded-full text-sm font-semibold mb-4",children:a.badge}),(0,l.jsx)("h1",{className:"text-4xl font-bold mb-4",children:a.name}),(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[(0,l.jsx)("div",{className:"flex text-yellow-400",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,l.jsx)("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{d:"M10 15l-5.878 3.09 1.123-6.545L.489 6.91l6.572-.955L10 0l2.939 5.955 6.572.955-4.756 4.635 1.123 6.545z"})},s))}),(0,l.jsxs)("span",{className:"ml-2 text-gray-600",children:["(",(null===(e=a.ratings)||void 0===e?void 0:e.count)||0," reviews)"]})]}),(0,l.jsxs)("div",{className:"text-4xl font-bold text-blue-900 mb-6",children:["$",a.price]}),(0,l.jsx)("p",{className:"text-gray-700 mb-6 leading-relaxed",children:a.description}),(0,l.jsx)("div",{className:"mb-6",children:(0,l.jsx)("span",{className:"font-semibold ".concat(a.stock>0?"text-green-600":"text-red-600"),children:a.stock>0?"In Stock (".concat(a.stock," available)"):"Out of Stock"})}),(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsx)("label",{className:"block text-sm font-semibold mb-2",children:"Quantity:"}),(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("button",{onClick:()=>h(Math.max(1,m-1)),className:"w-10 h-10 border border-gray-300 rounded-lg hover:bg-gray-100",children:"-"}),(0,l.jsx)("span",{className:"text-xl font-semibold w-12 text-center",children:m}),(0,l.jsx)("button",{onClick:()=>h(Math.min(a.stock,m+1)),className:"w-10 h-10 border border-gray-300 rounded-lg hover:bg-gray-100",children:"+"})]})]}),(0,l.jsx)("button",{onClick:()=>{g(a,m)},disabled:0===a.stock,className:"w-full bg-black text-white py-4 rounded-lg font-semibold hover:bg-gray-800 transition disabled:bg-gray-400 disabled:cursor-not-allowed mb-4",children:a.stock>0?"Add to Cart":"Out of Stock"}),(0,l.jsxs)("div",{className:"border-t pt-6",children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Category:"}),(0,l.jsx)("span",{className:"ml-2 text-gray-600 capitalize",children:a.category})]}),a.tags&&a.tags.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"font-semibold",children:"Tags:"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:a.tags.map((e,s)=>(0,l.jsx)("span",{className:"bg-gray-100 px-3 py-1 rounded-full text-sm",children:e},s))})]})]})]})]})})]})})]}):(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Product Not Found"}),(0,l.jsx)(d(),{href:"/shop",className:"text-blue-600 hover:underline",children:"Back to Shop"})]})})}},9008:function(e,s,a){e.exports=a(3867)},1163:function(e,s,a){e.exports=a(3079)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=1548)}),_N_E=e.O()}]);